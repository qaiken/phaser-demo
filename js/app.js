!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(){E.load.image("sky","img/sky.png"),E.load.image("diamond","img/diamond.png"),E.load.image("ground","img/platform.png"),E.load.image("star","img/star.png"),E.load.image("sky","img/sky.png"),E.load.spritesheet("baddie","img/baddie.png",32,32),E.load.spritesheet("dude","img/dude.png",32,48),E.load.audio("pickup_1","audio/pickup-1.wav"),E.load.audio("pickup_2","audio/pickup-2.wav"),E.load.audio("boom","audio/boom.wav"),E.load.audio("win","audio/win.wav"),E.load.audio("jump","audio/jump.wav")}function e(){g(),h(),i(),j(),n(),k(),l(),t(["pickup_1","pickup_2","jump","boom","win"]),C=E.add.text(16,16,"score: 0",{fontSize:"32px",fill:"#000"}),z=E.input.keyboard.createCursorKeys()}function f(){p(),m(),o(),u()}function g(){E.physics.startSystem(D.Physics.ARCADE),E.add.sprite(0,0,"sky"),y=E.add.group(),y.enableBody=!0}function h(){var a,b,c,d=[],e=Math.floor(3*Math.random()+1),f=y.create(0,E.world.height-64,"ground"),g=function(a){return d.forEach(function(b){for(;Math.abs(b-a)<82;)a-=5}),a};f.scale.setTo(2,2),f.body.immovable=!0,b=Math.floor(-101*Math.random()-200),c=Math.floor(51*Math.random()+350),a=y.create(b,c,"ground"),a.body.immovable=!0,d.push(c),b=Math.floor(101*Math.random()+150),c=Math.floor(51*Math.random()+300),c=g(c),a=y.create(b,c,"ground"),a.body.immovable=!0,d.push(c);for(var h=0;e>h;++h)b=Math.floor(801*Math.random()-200),c=Math.floor(151*Math.random()+250),c=g(c),d.push(c),a=y.create(b,c,"ground"),a.body.immovable=!0;console.log(d)}function i(){w=E.add.sprite(32,E.world.height-150,"dude"),E.physics.arcade.enable(w),w.body.bounce.y=.2,w.body.gravity.y=300,w.body.friction=.95,w.body.collideWorldBounds=!0,w.animations.add("left",[0,1,2,3],10,!0),w.animations.add("right",[5,6,7,8],10,!0)}function j(){var a,b;x=E.add.group(),x.enableBody=!0;for(var c=0;3+H>c;c++)b=Math.floor(Math.random()*(E.world.width-32+1)),a=x.create(b,0,"baddie"),a.body.bounce.y=.2,a.body.gravity.y=300,a.body.collideWorldBounds=!0,a.animations.add("left",[0,1],10,!0),a.animations.add("right",[2,3],10,!0),E.physics.arcade.enable(a)}function k(){var a,b=12,c=E.width/b;A=E.add.group(),A.enableBody=!0;for(var d=0;b>d;d++)a=A.create(d*c+11,0,"star"),a.body.gravity.y=300,a.body.bounce.y=.7+.2*Math.random()}function l(){var a,b;B=E.add.group(),B.enableBody=!0;for(var c=3,d=0;c>d;d++)b=Math.floor(Math.random()*(E.world.width-32+1)),a=B.create(b,0,"diamond"),a.body.gravity.y=600,a.body.bounce.y=.2+.2*Math.random()}function m(){z.left.isDown?(w.body.velocity.x=-150,w.animations.play("left")):z.right.isDown?(w.body.velocity.x=150,w.animations.play("right")):(w.animations.stop(),w.frame=4),w.body.touching.down&&(z.up.isDown&&(E.jump.play(),w.body.velocity.y=-350),!z.left.isDown&&!z.right.isDown&&Math.abs(w.body.velocity.x)>0&&(w.body.velocity.x*=w.body.friction,Math.abs(w.body.velocity.x)<.1&&(w.body.velocity.x=0)))}function n(){var a=[{animation:"left",frame:1},{animation:"right",frame:2}],b=function(c){var d=Math.floor(2*Math.random()),e=a[d],f=F(),g=Math.floor(5001*Math.random()+1e3);"left"===e.animation?(c.body.velocity.x=-f,c.animations.play("left")):(c.body.velocity.x=f,c.animations.play("right")),setTimeout(function(){c.body.velocity.x=0,c.animations.stop(),c.frame=Math.floor(2*Math.random()+1),setTimeout(function(){b(c)},g)},g)};x.forEach(b)}function o(){x.forEach(function(a){a.body.x<=0?(a.animations.stop(),a.body.velocity.x=F(),a.animations.play("right")):a.body.x>=E.width-a.width&&(a.animations.stop(),a.body.velocity.x=-F(),a.animations.play("left"))})}function p(){E.physics.arcade.collide(w,y),E.physics.arcade.collide(x,y),E.physics.arcade.collide(A,y),E.physics.arcade.collide(B,y),E.physics.arcade.overlap(w,A,r,null,this),E.physics.arcade.overlap(w,B,r,null,this),E.physics.arcade.overlap(w,x,v,null,this)}function q(a){a.children.forEach(function(a){a.kill()})}function r(a,b){var c,d=b.key;"diamond"===d?(c=10,E.pickup_2.play()):(c=1,E.pickup_1.play()),b.kill(),G+=c,G>+I.textContent&&(I.textContent=G),C.text="Score: "+G}function s(){w.kill(),q(A),q(B),q(x),q(y),h(),k(),l(),j(H),n(),i()}function t(a){a.forEach(function(a){E[a]=E.add.audio(a),E[a].volume=.2})}function u(){0===A.total&&0===B.total&&(E.win.play(),J.textContent=++H+1,s())}function v(){E.boom.play(),G=0,H=0,J.textContent=1,C.text="Score: "+G,s()}var w,x,y,z,A,B,C,D=window.Phaser,E=new D.Game(800,600,D.AUTO,"",{preload:d,create:e,update:f}),F=function(){return Math.floor(51*Math.random()+50)},G=0,H=0,I=document.querySelector(".score-value"),J=document.querySelector(".level-value")},{}]},{},[1]);